<!doctype html>
<html ⚡ itemscope itemtype="http://schema.org/Article" lang="ko">
<head>   
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,minimum-scale=1">
  <link rel="canonical" href="https://weblog.youre.space/vergence/2020/04/003224.html">
  <style amp-boilerplate>
body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}
</style>
<noscript>
<style amp-boilerplate>
body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}
</style>
</noscript>
<script async src="https://cdn.ampproject.org/v0.js"></script>
  <meta name="description" content="Windows 10에 Docker를 설치하는 잘 알려진 방법은 &quot;Docker Desktop&quot;을 설치하는 것입니다. 이 방법이 현재 가장 권장하는 방법입니다.이 방법의 제약은 Windows 10 Professional 이상에 설치 가능하고 Windows 10 Home에는 설치가 안 된다는 점입니다. 레지스트리를 수정하면 할 수는 있는데, 굳이 그렇게까지. 개인적으로...">
  <meta name="generator" content="Movable Type 6.3.6">
  <title>Windows 10 Home에 Docker 설치하기 - vergence의 이상한 세상</title>

  <link rel="prev" href="https://weblog.youre.space/vergence/2020/04/003223.amp.html" title="Job to Be Done, Hire, Fire">
  

    <!-- Open Graph Protocol -->
    <meta property="og:type" content="article">
    <meta property="og:locale" content="ko_KR">
    <meta property="og:title" content="Windows 10 Home에 Docker 설치하기">
    <meta property="og:url" content="https://weblog.youre.space/vergence/2020/04/003224.html">
    <meta property="og:description" content="Windows 10에 Docker를 설치하는 잘 알려진 방법은 &quot;Docker Desktop&quot;을 설치하는 것입니다. 이 방법이 현재 가장 권장하는 방법입니다.이 방법의 제약은 Windows 10 Professional 이상에 설치 가능하고 Windows 10 Home에는 설치가 안 된다는 점입니다. 레지스트리를 수정하면 할 수는 있는데, 굳이 그렇게까지. 개인적으로...">
    <meta property="og:site_name" content="vergence의 이상한 세상">
    <meta property="og:image" content="https://weblog.youre.space/vergence/assets_c/2017/08/20170719_155350_HDR-thumb-320x320-2.jpg">

    <!-- Metadata -->
    <meta itemprop="description" content="Windows 10에 Docker를 설치하는 잘 알려진 방법은 &quot;Docker Desktop&quot;을 설치하는 것입니다. 이 방법이 현재 가장 권장하는 방법입니다.이 방법의 제약은 Windows 10 Professional 이상에 설치 가능하고 Windows 10 Home에는 설치가 안 된다는 점입니다. 레지스트리를 수정하면 할 수는 있는데, 굳이 그렇게까지. 개인적으로...">
    <link itemprop="url" href="https://weblog.youre.space/vergence/2020/04/003224.html">
    <link itemprop="image" href="https://weblog.youre.space/vergence/assets_c/2017/08/20170719_155350_HDR-thumb-320x320-2.jpg">
    
  </head>
  <body itemscope itemtype="http://schema.org/Article">

<h1 itemprop="headline">Windows 10 Home에 Docker 설치하기</h1>
<time datetime="2020-04-26T23:33:15+09:00" itemprop="datePublished">April 26, 2020</time>
<time datetime="2020-04-26T23:33:15+09:00" itemprop="dateModified">April 26, 2020</time>

by <span itemprop="author"><a class="fn url" href="https://weblog.youre.space/vergence/">Sangyong Gwak</a></span>

<div itemprop="articleBody">
  <p>Windows 10에 Docker를 설치하는 잘 알려진 방법은 "Docker Desktop"을 설치하는 것입니다. 이 방법이 현재 가장 권장하는 방법입니다.<br />이 방법의 제약은 Windows 10 Professional 이상에 설치 가능하고 Windows 10 Home에는 설치가 안 된다는 점입니다. 레지스트리를 수정하면 할 수는 있는데, 굳이 그렇게까지. 개인적으로 이 방법을 꺼리는데, 설치 패키지 파일 크기가 약 900MB이고 뭔지 모를 파일이 참 많이 생기기 때문입니다.<br /><br />그래서, Docker를 수동으로 설치하는 방법을 소개합니다. 가장 큰 장점은 Windows 10 Home에도 설치할 수 있다는 점이고, 약간의 장점은 약 100MB 저장공간만 사용한다는 점입니다. 단점은, 이 방식은 Hyper-V와 LCOW(Linux Container on Windows 10)를 이용하여 실행되는데, 이 실행 방식은 컨테이너를 종료할 때(만) 약간 불안정한 느낌이 있다는 겁니다. 하지만 다른 실행 방식도 불안정하긴 마찬가지인 것 같습니다. 아직 Docker for Windows 10은 어느 실행 방식이든, 개발용으로 이용하는게 맞고 안정적인 서비스를 위해 이용하기엔 이릅니다. Hyper-V와 LCOW를 이용하는 실행 방식은 장점도 있습니다. 그건 맨 아래에.<br /><br />순서는 아래와 같습니다.<br />1. Windows 10 Home에 Hyper-V와 Containers feature 활성화<br />2. Docker, lcow 파일 다운로드 및 복사<br />3. config 파일 준비 및 실행<br /><br /><br />아래 2가지 설치 명령을 이용합니다. 이 때 CMD를 관리자 권한으로 실행합니다. 설치 후 윈도우즈 설정에서 아래 그림과 같이 Hyper-V와 Containers를 활성화된 상태로 둡니다.</p>
<p></p>
<h2>Windows 10에 Hyper-V feature 설치 (InstallHyperV.bat)</h2>
<pre><code>pushd "%~dp0"<br />dir /b %SystemRoot%\servicing\Packages\*Hyper-V*.mum &gt;hyper-v.txt<br />for /f %%i in ('findstr /i . hyper-v.txt 2^&gt;nul') do dism /online /norestart /add-package:"%SystemRoot%\servicing\Packages\%%i"<br />del hyper-v.txt<br />dism /online /enable-feature /featurename:Microsoft-Hyper-V -All /LimitAccess /ALL<br />pause</code></pre>
<h2>Windows 10에 Containers feature 설치 (InstallContainers.bat)</h2>
<pre><code>pushd "%~dp0"<br />dir /b %SystemRoot%\servicing\Packages\*containers*.mum &gt;containers.txt<br />for /f %%i in ('findstr /i . containers.txt 2^&gt;nul') do dism /online /norestart /add-package:"%SystemRoot%\servicing\Packages\%%i"<br />del containers.txt<br />dism /online /enable-feature /featurename:Containers -All /LimitAccess /ALL<br />pause</code></pre>
<h2></h2>
<h2></h2>
<h2>Docker for Windows</h2>
<p>https://download.docker.com/components/engine/windows-server/19.03/docker-19.03.5.zip</p>
<p>https://master.dockerproject.org/ (current master)</p>
<p></p>
<h2>LCOW, kernel, initrd.img</h2>
<p>in "C:\Program Files\Linux Container",</p>
<p>https://github.com/linuxkit/lcow/releases</p>
<p></p>
<p></p>
<p></p>
<p></p>
<p></p>
<p></p>
<h2>run_me.txt</h2>
<p>set LCOW_SUPPORTED=1<br />dockerd.exe -D --data-root C:\lcow --experimental</p>
<p></p>
<h2>set_perms.ps1</h2>
<p>param(<br />[string] $Root<br />)<br /># Give the virtual machines group full control<br />$acl = Get-Acl -Path $Root<br />$vmGroupRule = new-object System.Security.AccessControl.FileSystemAccessRule("NT VIRTUAL MACHINE\Virtual Machines", "FullControl","ContainerInherit,ObjectInherit", "None", "Allow")<br />$acl.SetAccessRule($vmGroupRule)<br />Set-Acl -AclObject $acl -Path $Root</p>
<p></p>
<h2>examples</h2>
<p>docker run -d --restart=always --mount type=npipe,source=\\.\pipe\docker_engine,destination=\\.\pipe\docker_engine --mount type=bind,source=E:\Portainer,destination=C:\data -p 9000:9000 --name portainer portainer/portainer:windows1809-amd64<br /><br /><br />docker run -d --restart always -v \\.\pipe\docker_engine:\\.\pipe\docker_engine -v E:\Portainer:C:\data -p 9000:9000 --name portainer portainer/portainer:windows1809-amd64</p>
<p></p>
<h2>Windows</h2>
<p>https://github.com/StefanScherer/docker-windows-box/tree/master/lcow</p>
<p></p>
<p></p>
<p>sudo 실행 시 오류를 본다면</p>
<pre><code>echo "Set disable_coredump false" &gt;&gt; /etc/sudo.conf</code></pre>
  
</div>

  <a href=http://weblog.youre.space//vergence/2020/04/003224.html target="_blank">http://weblog.youre.space//vergence/2020/04/003224.html</a>

<center>
<div id="admixer_display"></div>
</center>
<script type="text/javascript" src="http://scr.nsmartad.com/admixer/admixer.js"></script>
<script type="text/javascript">
    new admixer_ad({
    admixer_key:"8ch8bwvi",
    display_id:"admixer_display",
    adsense_publisher_key:"ca-mb-pub-0000000000000000", //AdSense 사용시에만 필요
    ad_change:true,  //default : true
    test : false,//default : false
    test_display_id : "log"
});
</script>
<center>
<div class="main_banner" id="main_banner1">
  <script type="text/javascript"> var tad_conf = { targetId : 'main_banner1', clientId : 'MX00048A1', slotNo : 2 }; </script>
  <script type="text/javascript" src="http://adddn.adotsolution.com/contents/sdk/js/tad.min.js"></script>
</div>
</center>
<center>
<div id="realssp_imyaman00001_8388" class="realssp_dv" data-mcode="aW15YW1hbjAwMDAxXzgzODg="></div><script src="http://nw.realssp.co.kr/realclickssp.js?v=1.0&m=imyaman00001_8388&t=j" async></script>
</center>

  </body>
</html>
